<!DOCTYPE html>
<html>

<head>

<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<title>page3</title>


<style type="text/css">
body {
  font-family: Helvetica, arial, sans-serif;
  font-size: 14px;
  line-height: 1.6;
  /* padding-top: 10px;
  padding-bottom: 10px; */
  background-color: white;
  /* padding: 30px; */ }

body > *:first-child {
  margin-top: 0 !important; }
body > *:last-child {
  margin-bottom: 0 !important; }

a {
  color: #4183C4; }
a.absent {
  color: #cc0000; }
a.anchor {
  display: block;
  padding-left: 30px;
  margin-left: -30px;
  cursor: pointer;
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0; }

h1, h2, h3, h4, h5, h6 {
  margin: 20px 0 10px;
  padding: 0;
  font-weight: bold;
  -webkit-font-smoothing: antialiased;
  cursor: text;
  position: relative; }

h1:hover a.anchor, h2:hover a.anchor, h3:hover a.anchor, h4:hover a.anchor, h5:hover a.anchor, h6:hover a.anchor {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA09pVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoMTMuMCAyMDEyMDMwNS5tLjQxNSAyMDEyLzAzLzA1OjIxOjAwOjAwKSAgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OUM2NjlDQjI4ODBGMTFFMTg1ODlEODNERDJBRjUwQTQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OUM2NjlDQjM4ODBGMTFFMTg1ODlEODNERDJBRjUwQTQiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo5QzY2OUNCMDg4MEYxMUUxODU4OUQ4M0REMkFGNTBBNCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo5QzY2OUNCMTg4MEYxMUUxODU4OUQ4M0REMkFGNTBBNCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PsQhXeAAAABfSURBVHjaYvz//z8DJYCRUgMYQAbAMBQIAvEqkBQWXI6sHqwHiwG70TTBxGaiWwjCTGgOUgJiF1J8wMRAIUA34B4Q76HUBelAfJYSA0CuMIEaRP8wGIkGMA54bgQIMACAmkXJi0hKJQAAAABJRU5ErkJggg==) no-repeat 10px center;
  text-decoration: none; }

h1 tt, h1 code {
  font-size: inherit; }

h2 tt, h2 code {
  font-size: inherit; }

h3 tt, h3 code {
  font-size: inherit; }

h4 tt, h4 code {
  font-size: inherit; }

h5 tt, h5 code {
  font-size: inherit; }

h6 tt, h6 code {
  font-size: inherit; }

h1 {
  font-size: 28px;
  color: black; }

h2 {
  font-size: 24px;
  border-bottom: 1px solid #cccccc;
  color: black; }

h3 {
  font-size: 18px; }

h4 {
  font-size: 16px; }

h5 {
  font-size: 14px; }

h6 {
  color: #777777;
  font-size: 14px; }

p, blockquote, ul, ol, dl, li, table, pre {
  margin: 15px 0; }

hr {
  background: transparent url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAECAYAAACtBE5DAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OENDRjNBN0E2NTZBMTFFMEI3QjRBODM4NzJDMjlGNDgiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OENDRjNBN0I2NTZBMTFFMEI3QjRBODM4NzJDMjlGNDgiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo4Q0NGM0E3ODY1NkExMUUwQjdCNEE4Mzg3MkMyOUY0OCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo4Q0NGM0E3OTY1NkExMUUwQjdCNEE4Mzg3MkMyOUY0OCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PqqezsUAAAAfSURBVHjaYmRABcYwBiM2QSA4y4hNEKYDQxAEAAIMAHNGAzhkPOlYAAAAAElFTkSuQmCC) repeat-x 0 0;
  border: 0 none;
  color: #cccccc;
  height: 4px;
  padding: 0;
}

body > h2:first-child {
  margin-top: 0;
  padding-top: 0; }
body > h1:first-child {
  margin-top: 0;
  padding-top: 0; }
  body > h1:first-child + h2 {
    margin-top: 0;
    padding-top: 0; }
body > h3:first-child, body > h4:first-child, body > h5:first-child, body > h6:first-child {
  margin-top: 0;
  padding-top: 0; }

a:first-child h1, a:first-child h2, a:first-child h3, a:first-child h4, a:first-child h5, a:first-child h6 {
  margin-top: 0;
  padding-top: 0; }

h1 p, h2 p, h3 p, h4 p, h5 p, h6 p {
  margin-top: 0; }

li p.first {
  display: inline-block; }
li {
  margin: 0; }
ul, ol {
  padding-left: 30px; }

ul :first-child, ol :first-child {
  margin-top: 0; }

dl {
  padding: 0; }
  dl dt {
    font-size: 14px;
    font-weight: bold;
    font-style: italic;
    padding: 0;
    margin: 15px 0 5px; }
    dl dt:first-child {
      padding: 0; }
    dl dt > :first-child {
      margin-top: 0; }
    dl dt > :last-child {
      margin-bottom: 0; }
  dl dd {
    margin: 0 0 15px;
    padding: 0 15px; }
    dl dd > :first-child {
      margin-top: 0; }
    dl dd > :last-child {
      margin-bottom: 0; }

blockquote {
  border-left: 4px solid #dddddd;
  padding: 0 15px;
  color: #777777; }
  blockquote > :first-child {
    margin-top: 0; }
  blockquote > :last-child {
    margin-bottom: 0; }

table {
  padding: 0;border-collapse: collapse; }
  table tr {
    border-top: 1px solid #cccccc;
    background-color: white;
    margin: 0;
    padding: 0; }
    table tr:nth-child(2n) {
      background-color: #f8f8f8; }
    table tr th {
      font-weight: bold;
      border: 1px solid #cccccc;
      margin: 0;
      padding: 6px 13px; }
    table tr td {
      border: 1px solid #cccccc;
      margin: 0;
      padding: 6px 13px; }
    table tr th :first-child, table tr td :first-child {
      margin-top: 0; }
    table tr th :last-child, table tr td :last-child {
      margin-bottom: 0; }

/* img {
  max-width: 100%; } */

span.frame {
  display: block;
  overflow: hidden; }
  span.frame > span {
    border: 1px solid #dddddd;
    display: block;
    float: left;
    overflow: hidden;
    margin: 13px 0 0;
    padding: 7px;
    width: auto; }
  span.frame span img {
    display: block;
    float: left; }
  span.frame span span {
    clear: both;
    color: #333333;
    display: block;
    padding: 5px 0 0; }
span.align-center {
  display: block;
  overflow: hidden;
  clear: both; }
  span.align-center > span {
    display: block;
    overflow: hidden;
    margin: 13px auto 0;
    text-align: center; }
  span.align-center span img {
    margin: 0 auto;
    text-align: center; }
span.align-right {
  display: block;
  overflow: hidden;
  clear: both; }
  span.align-right > span {
    display: block;
    overflow: hidden;
    margin: 13px 0 0;
    text-align: right; }
  span.align-right span img {
    margin: 0;
    text-align: right; }
span.float-left {
  display: block;
  margin-right: 13px;
  overflow: hidden;
  float: left; }
  span.float-left span {
    margin: 13px 0 0; }
span.float-right {
  display: block;
  margin-left: 13px;
  overflow: hidden;
  float: right; }
  span.float-right > span {
    display: block;
    overflow: hidden;
    margin: 13px auto 0;
    text-align: right; }

code, tt {
  margin: 0 2px;
  padding: 0 5px;
  white-space: nowrap;
  border: 1px solid #eaeaea;
  background-color: #f8f8f8;
  border-radius: 3px; }

pre code {
  margin: 0;
  padding: 0;
  white-space: pre;
  border: none;
  background: transparent; }

.highlight pre {
  background-color: #f8f8f8;
  border: 1px solid #cccccc;
  font-size: 13px;
  line-height: 19px;
  overflow: auto;
  padding: 6px 10px;
  border-radius: 3px; }

pre {
  background-color: #f8f8f8;
  border: 1px solid #cccccc;
  font-size: 13px;
  line-height: 19px;
  overflow: auto;
  padding: 6px 10px;
  border-radius: 3px; }
  pre code, pre tt {
    background-color: transparent;
    border: none; }

sup {
    font-size: 0.83em;
    vertical-align: super;
    line-height: 0;
}

kbd {
  display: inline-block;
  padding: 3px 5px;
  font-size: 11px;
  line-height: 10px;
  color: #555;
  vertical-align: middle;
  background-color: #fcfcfc;
  border: solid 1px #ccc;
  border-bottom-color: #bbb;
  border-radius: 3px;
  box-shadow: inset 0 -1px 0 #bbb
}

* {
	-webkit-print-color-adjust: exact;
}
/* @media screen and (min-width: 914px) {
    body {
        width: 854px;
        margin:0 auto;
    }
} */
@media print {
	table, pre {
		page-break-inside: avoid;
	}
	pre {
		word-wrap: break-word;
	}
  body {
    padding: 2cm; 
  }
}
</style>

<style type="text/css">
/**
 * prism.js default theme for JavaScript, CSS and HTML
 * Based on dabblet (http://dabblet.com)
 * @author Lea Verou
 */

code[class*="language-"],
pre[class*="language-"] {
	color: black;
	background: none;
	text-shadow: 0 1px white;
	font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
	text-align: left;
	white-space: pre;
	word-spacing: normal;
	word-break: normal;
	word-wrap: normal;
	line-height: 1.5;

	-moz-tab-size: 4;
	-o-tab-size: 4;
	tab-size: 4;

	-webkit-hyphens: none;
	-moz-hyphens: none;
	-ms-hyphens: none;
	hyphens: none;
}

pre[class*="language-"]::-moz-selection, pre[class*="language-"] ::-moz-selection,
code[class*="language-"]::-moz-selection, code[class*="language-"] ::-moz-selection {
	text-shadow: none;
	background: #b3d4fc;
}

pre[class*="language-"]::selection, pre[class*="language-"] ::selection,
code[class*="language-"]::selection, code[class*="language-"] ::selection {
	text-shadow: none;
	background: #b3d4fc;
}

@media print {
	code[class*="language-"],
	pre[class*="language-"] {
		text-shadow: none;
	}
}

/* Code blocks */
pre[class*="language-"] {
	padding: 1em;
	margin: .5em 0;
	overflow: auto;
}

:not(pre) > code[class*="language-"],
pre[class*="language-"] {
	background: #f5f2f0;
}

/* Inline code */
:not(pre) > code[class*="language-"] {
	padding: .1em;
	border-radius: .3em;
	white-space: normal;
}

.token.comment,
.token.prolog,
.token.doctype,
.token.cdata {
	color: slategray;
}

.token.punctuation {
	color: #999;
}

.namespace {
	opacity: .7;
}

.token.property,
.token.tag,
.token.boolean,
.token.number,
.token.constant,
.token.symbol,
.token.deleted {
	color: #905;
}

.token.selector,
.token.attr-name,
.token.string,
.token.char,
.token.builtin,
.token.inserted {
	color: #690;
}

.token.operator,
.token.entity,
.token.url,
.language-css .token.string,
.style .token.string {
	color: #a67f59;
	background: hsla(0, 0%, 100%, .5);
}

.token.atrule,
.token.attr-value,
.token.keyword {
	color: #07a;
}

.token.function {
	color: #DD4A68;
}

.token.regex,
.token.important,
.token.variable {
	color: #e90;
}

.token.important,
.token.bold {
	font-weight: bold;
}
.token.italic {
	font-style: italic;
}

.token.entity {
	cursor: help;
}
</style>


</head>

<body>
<p>Now you have Ansible installed on the Control node, in this chapter first we will guide you through some of the Ansible basic concepts. Later you will use Ansible Playbooks to manage and configure the Managed nodes to prepare them for the upcoming chapters.   </p>

<h2 id="toc_1">3.1 Ansible Configurations</h2>

<h3 id="toc_2">3.1.1 Ansible inventory file</h3>

<p>Ansible uses an inventory file (basically, a list of servers) to communicate with your servers. Like a hosts file (at /etc/hosts) that matches IP addresses to domain names, an Ansible inventory file matches servers (IP addresses or domain names) to groups. </p>

<p>Now take a look at the inventory file in your cloned Git repo: </p>

<pre><button ng-click="copyToClipboard('4-1')" type="button" class="copyButton"><i class="fa fa-files-o"></i></button><code class="language-bash">$ cat ~/ansible-demo/inventory/hosts</code><code id = "4-1" hidden>cat ~/ansible-demo/inventory/hosts</code></pre>


<p>Output:</p>

<div><pre><code class="language-bash">[local]
ansibleEngine ansible_connection=local

[nodes]
node1 ansible_host=&quot;node1_ip&quot; 
node2 ansible_host=&quot;node2_ip&quot;</code></pre></div>



<p>In this hosts file, we have defined two groups of nodes, &quot;local&quot; and &quot;nodes&quot;. The &quot;local&quot; is the VM instance running Ansible, that contains the name of the Control node, ansibleEngine, and the connection type, which is local connection. The &quot;nodes&quot; group contains two instances, named node1 and node2, which has the &quot;ansible_host&quot; variable that you will need to modify with your own node IPs. Since the Control node and the Managed nodes are in the same VPC on AWS, you can use the private IP addresses of the nodes, and we will show you how to update these values later. </p>

<h3 id="toc_3">3.1.2 Ansible configuration file</h3>

<p>Ansible’s configuration file, ususally found as &quot;<strong>/etc/ansible/ansible.cfg</strong>&quot;, allows you optimizations and customizations for running playbooks and ad-hoc tasks. In many times you can create and use your own configuration file, like we will be doing in this lab. Read through the official documentation at <a href="https://docs.ansible.com/ansible/latest/installation_guide/intro_configuration.html"> Ansible Configuration </a> for customizable options in ansible.cfg.</p>

<p>Now take a look at one of the configuration files in your cloned Git repo: </p>

<pre><button ng-click="copyToClipboard('4-2')" type="button" class="copyButton"><i class="fa fa-files-o"></i></button><code class="language-bash">$ cat ~/ansible-demo/manage-user/ansible.cfg</code><code id = "4-2" hidden>cat ~/ansible-demo/manage-user/ansible.cfg</code></pre>


<p>Output:</p>

<div><pre><code class="language-bash">[defaults]
host_key_checking = False
inventory = /home/ec2-user/ansible-demo/inventory/hosts
remote_user = ec2-user
private_key_file = /home/ec2-user/.ssh/&quot;Your_Private_Key&quot;</code></pre></div>


<p>This configuration file specifies no to check host key when connecting to the remote nodes, and the path of the inventory file and private key file for connecting to the nodes, as well as the remote user for SSH connection. These settings will be used as the parameters when running ansible ad-hoc command or playbooks in the manage-user directory. Similarly, you will need to modify the &quot;Your<em>Private</em>Key&quot; variable to use your own private key, and we will show you how to update this value later.</p>

<h3 id="toc_4">3.1.3 Update the Ansible inventory and configuration</h3>

<p>Before running any ansible commands or playbooks, you will need to update the IP addresses of the Managed nodes, so that the Control node knows where to look for the nodes to manage. Also you need to update the path of your private SSH key file. To update these settings, do the following: </p>

<ul>
<li><p><strong>Update the inventory file</strong>
Replace the two IPs with your actual node private IPs: </p>

<pre><button ng-click="copyToClipboard('4-3')" type="button" class="copyButton"><i class="fa fa-files-o"></i></button><code class="language-bash">$ cd ~/ansible-demo
$ sudo bash ~/ansible-demo/control-node-configure.sh &quot;Private_IP_of_node1&quot; &quot;Private_IP_of_node2&quot; </code><code id = "4-3" hidden>cd ~/ansible-demo
sudo bash ~/ansible-demo/control-node-configure.sh &quot;Private_IP_of_node1&quot; &quot;Private_IP_of_node2&quot; </code></pre>



<p>For example, in my case: </p>

<pre><button ng-click="copyToClipboard('4-4')" type="button" class="copyButton"><i class="fa fa-files-o"></i></button><code class="language-bash">$ sudo bash ~/ansible-demo/control-node-configure.sh &quot;10.123.1.67&quot; &quot;10.123.1.17&quot;</code><code id = "4-4" hidden>sudo bash ~/ansible-demo/control-node-configure.sh &quot;10.123.1.67&quot; &quot;10.123.1.17&quot;</code></pre>

<blockquote style = "background-color: #e5f5e0 ; margin: 0 ; font-family: calibri;border: 2px solid #00441b; border-left: 6px solid #00441b; padding : 0.5em; border-radius: 8px; background-style:discrete" >
<font size = 3 color = green> <b> Note: </b></font>
<font color = "black">The IP addresses used in the inventory file for the two nodes are the private ip addresses for the Ansible Managed node instances node1 and node2. Please find these values from the details of the nodes under the “Private IPv4 addresses” in AWS EC2.
</font></blockquote>

<p>Confirm that hosts are correctly added: </p>


<pre><button ng-click="copyToClipboard('4-5')" type="button" class="copyButton"><i class="fa fa-files-o"></i></button><code class="language-bash">$ cat inventory/hosts
$ cat /etc/hosts</code><code id = "4-5" hidden>cat inventory/hosts
cat /etc/hosts</code></pre>



<p>The outputs should look like as follows:
<p align="center"> <img src="/MizzouCloudDevOps/img/lab6/chapter3/chapter3-16.png" width="500px"></p>
<p align="center"> <img src="/MizzouCloudDevOps/img/lab6/chapter3/chapter3-17.png" width="600px"></p></p></li>
<li><p><strong>Update the Ansible configuration</strong></p>

<p>Update the &quot;private<em>key</em>file&quot; variable to use your own private key by changing &quot;Your<em>Private</em>Key&quot; to your own value. In the below command, change the 2nd &quot;Your<em>Private</em>Key&quot; to your own private key name.</p>

<div><pre><code class="language-bash">$ cd ~/ansible-demo/manage-user
$ sed -i &#39;s&amp;private_key_file = /home/ec2-user/.ssh/&quot;Your_Private_Key&quot;&amp;private_key_file = /home/ec2-user/.ssh/&quot;Your_Private_Key&quot;&amp;g&#39; ansible.cfg</code></pre></div>


<p>For example, in my case (my private key is &quot;ansibleKey.pem&quot;): </p>

<div><pre><code class="language-bash">$ cd ~/ansible-demo/manage-user
$ sed -i &#39;s&amp;private_key_file = /home/ec2-user/.ssh/&quot;Your_Private_Key&quot;&amp;private_key_file = /home/ec2-user/.ssh/ansibleKey.pem&amp;g&#39; ansible.cfg</code></pre></div>

<p>Or, if the command above is confusing you, just do the following: </p>


<pre><button ng-click="copyToClipboard('4-8')" type="button" class="copyButton"><i class="fa fa-files-o"></i></button><code class="language-bash">$ cd ~/ansible-demo/manage-user
$ vim ansible.cfg</code><code id = "4-8" hidden>cd ~/ansible-demo/manage-user
vim ansible.cfg</code></pre>



<p>And manually update the value &quot;Your<em>Private</em>Key&quot; in the last line to the name of your private key. </p></li>
</ul>

<h3 id="toc_5">3.1.4 Testing connections from the engine node to other nodes:</h3>

<p>Make sure to change the permissions of your private key before SSHing to node1 and node2.</p>


<pre><button ng-click="copyToClipboard('4-9')" type="button" class="copyButton"><i class="fa fa-files-o"></i></button><code class="language-bash">$ chmod 400 ~/.ssh/ansibleKey.pem
$ ssh -i ~/.ssh/ansibleKey.pem ec2-user@&quot;Node1_Private_IP&quot;</code><code id = "4-9" hidden>chmod 400 ~/.ssh/ansibleKey.pem
ssh -i ~/.ssh/ansibleKey.pem ec2-user@&quot;Node1_Private_IP&quot;</code></pre>




<p>When you are prompted to confirm ECDSA fingerprint, just answer &quot;yes&quot;. After you successfully login to the node1, type &quot;exit&quot; to log out. </p>

<p>Then </p>

<pre><button ng-click="copyToClipboard('4-10')" type="button" class="copyButton"><i class="fa fa-files-o"></i></button><code class="language-bash">$ ssh -i ~/.ssh/ansibleKey.pem ec2-user@&quot;Node2_Private_IP&quot;</code><code id = "4-10" hidden>ssh -i ~/.ssh/ansibleKey.pem ec2-user@&quot;Node2_Private_IP&quot;</code></pre>



<p>When you are prompted to confirm ECDSA fingerprint, just answer &quot;yes&quot;. After you successfully login to the node2, type &quot;exit&quot; to log out. </p>

<h2 id="toc_6">3.2 Ansible Ad-Hoc Commands</h2>

<p>Before diving into Ansible Playbooks, we would like to run some Ad-Hoc commands. Ansible Ad-Hoc commands are similar to Python interactive mode, allow you to do some simple jobs on the remote nodes in Ansible cluster. Now that you’ve installed Ansible and cloned our template configurations, it’s time to run a command to see if everything works!</p>

<h3 id="toc_7">3.2.1 Ping module</h3>

<p>A simple ping job on the engine can help us test the Ansible configuration running. Run the following command to ping both nodes in your Ansible topology:</p>

<pre><button ng-click="copyToClipboard('4-11')" type="button" class="copyButton"><i class="fa fa-files-o"></i></button><code class="language-bash">$ cd ~/ansible-demo/
$ ansible nodes -i inventory/hosts --private-key ~/.ssh/ansibleKey.pem -m ping -u ec2-user</code><code id = "4-11" hidden>cd ~/ansible-demo/
ansible nodes -i inventory/hosts --private-key ~/.ssh/ansibleKey.pem -m ping -u ec2-user</code></pre>



<p>In this command, the &quot;<strong>nodes</strong>&quot; is the node group you define in the inventory; the &quot;<strong>-i inventory/hosts</strong>&quot; specifies where your inventory file is; the &quot;<strong>--private-key ~/.ssh/ansibleKey</strong>&quot; tells ansible where your private key is; the &quot;<strong>-m ping</strong>&quot; is the module command to run on the nodes; and the &quot;<strong>-u ec2-user</strong>&quot; specifies the user you use to log into the server. In this command, the &quot;-u ec2-user&quot; can be omitted as it is the default user to login. If you would like to know more about the ansible command arguments, you can run &quot;ansible --help&quot; or refer to Ansible official documentation at <a href="https://docs.ansible.com/ansible/latest/index.html"> Ansible Documentation</a>.</p>

<p>If everything worked, you should see a message from the Managed nodes like: &quot;<em>node1 | SUCCESS =&gt;</em>&quot; and &quot;<em>node2 | SUCCESS =&gt;</em>&quot;, similar to below snapshot. If you see the results similar to this, it means Ansible is correctly configured and Ansible engine is able to access all the nodes in the architecture.</p>

<p align="center"> <img src="/MizzouCloudDevOps/img/lab6/chapter3/chapter3-19.png" width="700px"></p>

<h3 id="toc_8">3.2.2 Running simple bash commands on the nodes</h3>

<p>You can run many Ad-Hoc commands to interact with the remote nodes by using the &quot;-a&quot; that specifies arguments (bash commands) to run on the nodes, e.g., </p>

<ul>
<li><p><strong>Check hostnames</strong>

<pre><button ng-click="copyToClipboard('4-12')" type="button" class="copyButton"><i class="fa fa-files-o"></i></button><code class="language-bash">$ ansible nodes -i inventory/hosts --private-key ~/.ssh/ansibleKey.pem -a &quot;hostname&quot;</code><code id = "4-12" hidden>ansible nodes -i inventory/hosts --private-key ~/.ssh/ansibleKey.pem -a &quot;hostname&quot;</code></pre>


<p align="center"> <img src="/MizzouCloudDevOps/img/lab6/chapter3/chapter3-22.png" width="650px"></p></p></li>
<li><p><strong>Check system storage</strong>

<pre><button ng-click="copyToClipboard('4-13')" type="button" class="copyButton"><i class="fa fa-files-o"></i></button><code class="language-bash">$ ansible nodes -i inventory/hosts --private-key ~/.ssh/ansibleKey.pem -a &quot;df -h&quot;</code><code id = "4-13" hidden>ansible nodes -i inventory/hosts --private-key ~/.ssh/ansibleKey.pem -a &quot;df -h&quot;</code></pre>


<p align="center"> <img src="/MizzouCloudDevOps/img/lab6/chapter3/chapter3-21.png" width="600px"></p></p></li>
<li><p><strong>Check system memory</strong>

<pre><button ng-click="copyToClipboard('4-14')" type="button" class="copyButton"><i class="fa fa-files-o"></i></button><code class="language-bash">$ ansible nodes -i inventory/hosts --private-key ~/.ssh/ansibleKey.pem -a &quot;free -m&quot;</code><code id = "4-14" hidden>ansible nodes -i inventory/hosts --private-key ~/.ssh/ansibleKey.pem -a &quot;free -m&quot;</code></pre>


<p align="center"> <img src="/MizzouCloudDevOps/img/lab6/chapter3/chapter3-24.png" width="650px"></p></p></li>
<li><p>Or commands that does not have arguments at all, e.g., <strong>list all the remote nodes</strong>: </p>

<pre><button ng-click="copyToClipboard('4-15')" type="button" class="copyButton"><i class="fa fa-files-o"></i></button><code class="language-bash">$ ansible nodes -i inventory/hosts --list-hosts</code><code id = "4-15" hidden>ansible nodes -i inventory/hosts --list-hosts</code></pre>



<p align="center"> <img src="/MizzouCloudDevOps/img/lab6/chapter3/chapter3-23.png" width="650px"></p></li>
</ul>

<h3 id="toc_9">3.2.3 Making changes on the nodes</h3>

<p>To make changes on the remote nodes, normally you will need to have sudo privilege. In this case, the &quot;-b&quot; option (alias for --become) that tells Ansible to run the command with become (basically, run commands with &#39;sudo&#39; privilege).</p>

<ul>
<li><p><strong>Restart SSH Daemon</strong>

<pre><button ng-click="copyToClipboard('4-16')" type="button" class="copyButton"><i class="fa fa-files-o"></i></button><code class="language-bash">$ ansible nodes -i inventory/hosts --private-key ~/.ssh/ansibleKey.pem -b -m service -a &quot;name=sshd state=restarted enabled=yes&quot;</code><code id = "4-16" hidden>ansible nodes -i inventory/hosts --private-key ~/.ssh/ansibleKey.pem -b -m service -a &quot;name=sshd state=restarted enabled=yes&quot;</code></pre>


You will see a long output basically telling you that SSHD has been restarted and enabled on both remote nodes. 
<p align="center"> <img src="/MizzouCloudDevOps/img/lab6/chapter3/chapter3-25.png" width="600px"></p></p></li>
<li><p><strong>Install a package</strong>
<br>
<pre><button ng-click="copyToClipboard('4-17')" type="button" class="copyButton"><i class="fa fa-files-o"></i></button><code class="language-bash">$ ansible nodes -i inventory/hosts --private-key ~/.ssh/ansibleKey.pem -b -m package -a &quot;name=git state=present&quot;</code><code id = "4-17" hidden>ansible nodes -i inventory/hosts --private-key ~/.ssh/ansibleKey.pem -b -m package -a &quot;name=git state=present&quot;</code></pre>



Again you will see a long output telling you that git has been installed on both remote nodes. You can always specify the command to be run on only one node by changing &quot;nodes&quot; to &quot;node1&quot; or &quot;node2&quot;. 
<p align="center"> <img src="/MizzouCloudDevOps/img/lab6/chapter3/chapter3-26.png" width="650px"></p></p></li>
<li><p><strong>Upload/download files to/from remote nodes</strong> (node1 as an example)

<pre><button ng-click="copyToClipboard('4-18')" type="button" class="copyButton"><i class="fa fa-files-o"></i></button><code class="language-bash">$ touch ~/test_file
$ ansible node1 -i inventory/hosts --private-key ~/.ssh/ansibleKey.pem -m copy -a &quot;src=~/test_file dest=/tmp/uploaded_file&quot; 
$ ansible node1 -i inventory/hosts --private-key ~/.ssh/ansibleKey.pem -m fetch -a &quot;src=/tmp/uploaded_file dest=~/downloaded_file&quot;</code><code id = "4-18" hidden>touch ~/test_file
ansible node1 -i inventory/hosts --private-key ~/.ssh/ansibleKey.pem -m copy -a &quot;src=~/test_file dest=/tmp/uploaded_file&quot; 
ansible node1 -i inventory/hosts --private-key ~/.ssh/ansibleKey.pem -m fetch -a &quot;src=/tmp/uploaded_file dest=~/downloaded_file&quot;</code></pre>



<strong>Note:</strong> Fetch will, by default, put the &quot;downloaded_file&quot; file from node1 into a folder in the Control node with the name of the host and the location defined by &quot;src&quot;. 
<p align="center"> <img src="/MizzouCloudDevOps/img/lab6/chapter3/chapter3-27.png" width="700px"></p>
<p align="center"> <img src="/MizzouCloudDevOps/img/lab6/chapter3/chapter3-28.png" width="700px"></p></p>

<ul>
<li><strong>Check for the existence of the uploaded and downloaded files</strong></li>
</ul>

<pre><button ng-click="copyToClipboard('4-19')" type="button" class="copyButton"><i class="fa fa-files-o"></i></button><code class="language-bash">$ ansible node1 -i inventory/hosts --private-key ~/.ssh/ansibleKey.pem -a &quot;ls /tmp/&quot; 
$ ls ~/downloaded_file/node1/tmp/</code><code id = "4-19" hidden>ansible node1 -i inventory/hosts --private-key ~/.ssh/ansibleKey.pem -a &quot;ls /tmp/&quot; 
ls ~/downloaded_file/node1/tmp/</code></pre>



<p align="center"> <img src="/MizzouCloudDevOps/img/lab6/chapter3/chapter3-29.png" width="700px"></p>
and
<p align="center"> <img src="/MizzouCloudDevOps/img/lab6/chapter3/chapter3-30.png" width="600px"></p></li>
</ul>

<h2 id="toc_10">3.3 Ansible Playbooks</h2>

<p>So far, you have configured the Control node and went through some example Ad-Hoc ansible commands to get you started working with the Managed nodes. Next we will use Ansible Playbooks to do something more than just single commands on the remote nodes. In this section, you will configure a new user, i.e., ansibledevops user, on the Managed nodes to allow you to use in the rest of the lab. For this, you will use the same directory in your cloned Git repo, the manage_user directory. </p>

<h3 id="toc_11">3.3.1 Create a new ssh key-pair for the ansibledevops user on the remote node</h3>

<p>We will create a new key-pai in the specified folder. You can name the key to anything you want, or leave the name by default &quot;id_rsa&quot; when prompt to do so similar to the screenshot below. You should skip the passphrase.</p>


<pre><button ng-click="copyToClipboard('4-20')" type="button" class="copyButton"><i class="fa fa-files-o"></i></button><code class="language-bash">$ cd /home/ec2-user/.ssh/
$ ssh-keygen</code><code id = "4-20" hidden>cd /home/ec2-user/.ssh/
ssh-keygen</code></pre>



<p align="center"> <img src="/MizzouCloudDevOps/img/lab6/chapter3/chapter3-33.png" width="500px"></p>

<h3 id="toc_12">3.3.2 Using Playbook to configure Managed nodes</h3>

<p>Playbooks are created using YAML files. 
* <strong>Change to the &quot;manage-user&quot; directory</strong></p>

<pre><button ng-click="copyToClipboard('4-21')" type="button" class="copyButton"><i class="fa fa-files-o"></i></button><code class="language-bash">$ cd ~/ansible-demo/manage-user</code><code id = "4-21" hidden>cd ~/ansible-demo/manage-user</code></pre>



<ul>
<li><p><strong>Check the Ansible playbook file</strong></p>

<pre><button ng-click="copyToClipboard('4-22')" type="button" class="copyButton"><i class="fa fa-files-o"></i></button><code class="language-bash">$ cat manage_user.yaml</code><code id = "4-22" hidden>cat manage_user.yaml</code></pre>



<p>Output: </p>

<div><pre><p class="yamlTag">YAML</p><code id = "4-30" class="language-yaml"># The following create and allow an ansibledevops user on remote hosts
---
- name: create a user on all hosts
hosts: nodes
remote_user: ec2-user
become: yes 
gather_facts: no

vars:
  - ansible_ssh_public_key_file: &quot;Your_Public_Key&quot;
  - user: ansibledevops
tasks:
  - name: Create a login user
    user:
      name: &quot;{{ user }}&quot;
      shell: /bin/bash
      createhome: yes
      home: /home/ansibledevops
      state: present

  - file:
      path: /home/ansibledevops/.ssh
      state: directory
      owner: ansibledevops
      group: ansibledevops
      mode: &#39;0700&#39;

  - name: Upload the public SSH key to remote servers
    copy:
      src: /home/ec2-user/.ssh/{{ ansible_ssh_public_key_file }}
      dest: /home/ansibledevops/.ssh/{{ ansible_ssh_public_key_file }}
      owner: ansibledevops
      group: ansibledevops
      mode: &#39;0766&#39;

  - name: add the public key into Authorized_keys file to enable Key Auth
    shell: &quot;cat /home/ansibledevops/.ssh/&#39;{{ ansible_ssh_public_key_file }}&#39; &gt;&gt; /home/ansibledevops/.ssh/authorized_keys &amp;&amp;
     chmod 600 /home/ansibledevops/.ssh/authorized_keys &amp;&amp; 
     chown ansibledevops:ansibledevops /home/ansibledevops/.ssh/authorized_keys&quot;

  - name: Deny root from logging in 
    ansible.builtin.lineinfile:
      dest: /etc/ssh/sshd_config
      regexp: &#39;^(#)?PermitRootLogin \w*$&#39;
      line: &#39;PermitRootLogin no&#39;
      state: present
    notify:
     - restart ssh

  - name: add {{user }} to sudoers file 
    ansible.builtin.lineinfile:
      path: /etc/sudoers
      regexp: &#39;^{{ user }}&#39;
      line: &#39;{{ user }} ALL=(ALL) NOPASSWD: ALL&#39;
      validate: &#39;visudo -cf %s&#39; 
    notify:
     - restart ssh

handlers:
  - name: restart ssh
    ansible.builtin.service:
      name: sshd
      state: restarted</code></pre></div>
<li><p><strong>Update the playbook file</strong></p>

<p>Change the &quot;ansible<em>ssh</em>public<em>key</em>file&quot; variable in the &quot;vars&quot; section to use your own public key by replacing the 2nd &quot;Your<em>Public</em>Key&quot; (the one just before the &quot;&amp;g&quot;) to your own value. </p>

<div><pre><code class="language-bash">$ sed -i &#39;s&amp;- ansible_ssh_public_key_file: /home/ec2-user/.ssh/&quot;Your_Public_Key&quot;&amp;- ansible_ssh_public_key_file: /home/ec2-user/.ssh/&quot;Your_Public_Key.pub&quot;&amp;g&#39; manage_user.yaml</code></pre></div>


<p>For example, in my case: </p>

<div><pre><code class="language-bash">$ sed -i &#39;s&amp;- ansible_ssh_public_key_file: /home/ec2-user/.ssh/&quot;Your_Public_Key&quot;&amp;- ansible_ssh_public_key_file: /home/ec2-user/.ssh/id_rsa.pub&amp;g&#39; manage_user.yaml</code></pre></div>


<p>Or, if the command above is confusing to you, just do the following: 
<pre><button ng-click="copyToClipboard('4-25')" type="button" class="copyButton"><i class="fa fa-files-o"></i></button><code class="language-bash">$ vim manage_user.yaml</code><code id = "4-25" hidden>vim manage_user.yaml</code></pre>

And manually update the value &quot;Your<em>Public</em>Key&quot; to the name of your public key. </p></li>
<li><p><strong>Run the playbook to configure new user on your Managed nodes</strong> </p>

<pre><button ng-click="copyToClipboard('4-26')" type="button" class="copyButton"><i class="fa fa-files-o"></i></button><code class="language-bash">$ ansible-playbook manage_user.yaml</code><code id = "4-26" hidden>ansible-playbook manage_user.yaml</code></pre>



<p>You will see the following output: 
<p align="center"> <img src="/MizzouCloudDevOps/img/lab6/chapter3/chapter3-31.png" width="700px"></p></p></li>
<li><p><strong>Check to make sure the new user has been created on either of the nodes</strong> (replace node1_IP with your own node1 private IP)</p>

<pre><button ng-click="copyToClipboard('4-27')" type="button" class="copyButton"><i class="fa fa-files-o"></i></button><code class="language-bash">$ ssh -i ~/.ssh/&quot;Your_Private_Key&quot; ansibledevops@node1_IP</code><code id = "4-27" hidden>ssh -i ~/.ssh/&quot;Your_Private_Key&quot; ansibledevops@node1_IP</code></pre>



<p>For example, in my case: </p>

<pre><button ng-click="copyToClipboard('4-28')" type="button" class="copyButton"><i class="fa fa-files-o"></i></button><code class="language-bash">$ ssh -i ~/.ssh/id_rsa ansibledevops@10.123.1.67</code><code id = "4-28" hidden>ssh -i ~/.ssh/id_rsa ansibledevops@10.123.1.67</code></pre>



<p>If you see that you are logged into the node1 and the command prompt has changed into user &quot;ansibledevops&quot;, like the below snapshot, that proves that you have correctly created and configured the new user on the remote nodes.</p>

<p align="center"> <img src="/MizzouCloudDevOps/img/lab6/chapter3/chapter3-32.png" width="600px"></p>

<p>Now log out from node1: </p></li>
<pre><button ng-click="copyToClipboard('4-29')" type="button" class="copyButton"><i class="fa fa-files-o"></i></button><code class="language-bash">$ exit</code><code id = "4-29" hidden>exit</code></pre>
</ul>

<p><span style="color:blue;"> <b> Congratulations! you have configured your Control node and Managed nodes for the rest of your lab exercise.</b> </span></p>



<script type="text/javascript">
var _self="undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{},Prism=function(){var e=/\blang(?:uage)?-(\w+)\b/i,t=0,n=_self.Prism={util:{encode:function(e){return e instanceof a?new a(e.type,n.util.encode(e.content),e.alias):"Array"===n.util.type(e)?e.map(n.util.encode):e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).match(/\[object (\w+)\]/)[1]},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++t}),e.__id},clone:function(e){var t=n.util.type(e);switch(t){case"Object":var a={};for(var r in e)e.hasOwnProperty(r)&&(a[r]=n.util.clone(e[r]));return a;case"Array":return e.map&&e.map(function(e){return n.util.clone(e)})}return e}},languages:{extend:function(e,t){var a=n.util.clone(n.languages[e]);for(var r in t)a[r]=t[r];return a},insertBefore:function(e,t,a,r){r=r||n.languages;var l=r[e];if(2==arguments.length){a=arguments[1];for(var i in a)a.hasOwnProperty(i)&&(l[i]=a[i]);return l}var o={};for(var s in l)if(l.hasOwnProperty(s)){if(s==t)for(var i in a)a.hasOwnProperty(i)&&(o[i]=a[i]);o[s]=l[s]}return n.languages.DFS(n.languages,function(t,n){n===r[e]&&t!=e&&(this[t]=o)}),r[e]=o},DFS:function(e,t,a,r){r=r||{};for(var l in e)e.hasOwnProperty(l)&&(t.call(e,l,e[l],a||l),"Object"!==n.util.type(e[l])||r[n.util.objId(e[l])]?"Array"!==n.util.type(e[l])||r[n.util.objId(e[l])]||(r[n.util.objId(e[l])]=!0,n.languages.DFS(e[l],t,l,r)):(r[n.util.objId(e[l])]=!0,n.languages.DFS(e[l],t,null,r)))}},plugins:{},highlightAll:function(e,t){var a={callback:t,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};n.hooks.run("before-highlightall",a);for(var r,l=a.elements||document.querySelectorAll(a.selector),i=0;r=l[i++];)n.highlightElement(r,e===!0,a.callback)},highlightElement:function(t,a,r){for(var l,i,o=t;o&&!e.test(o.className);)o=o.parentNode;o&&(l=(o.className.match(e)||[,""])[1],i=n.languages[l]),t.className=t.className.replace(e,"").replace(/\s+/g," ")+" language-"+l,o=t.parentNode,/pre/i.test(o.nodeName)&&(o.className=o.className.replace(e,"").replace(/\s+/g," ")+" language-"+l);var s=t.textContent,u={element:t,language:l,grammar:i,code:s};if(!s||!i)return n.hooks.run("complete",u),void 0;if(n.hooks.run("before-highlight",u),a&&_self.Worker){var c=new Worker(n.filename);c.onmessage=function(e){u.highlightedCode=e.data,n.hooks.run("before-insert",u),u.element.innerHTML=u.highlightedCode,r&&r.call(u.element),n.hooks.run("after-highlight",u),n.hooks.run("complete",u)},c.postMessage(JSON.stringify({language:u.language,code:u.code,immediateClose:!0}))}else u.highlightedCode=n.highlight(u.code,u.grammar,u.language),n.hooks.run("before-insert",u),u.element.innerHTML=u.highlightedCode,r&&r.call(t),n.hooks.run("after-highlight",u),n.hooks.run("complete",u)},highlight:function(e,t,r){var l=n.tokenize(e,t);return a.stringify(n.util.encode(l),r)},tokenize:function(e,t){var a=n.Token,r=[e],l=t.rest;if(l){for(var i in l)t[i]=l[i];delete t.rest}e:for(var i in t)if(t.hasOwnProperty(i)&&t[i]){var o=t[i];o="Array"===n.util.type(o)?o:[o];for(var s=0;s<o.length;++s){var u=o[s],c=u.inside,g=!!u.lookbehind,h=!!u.greedy,f=0,d=u.alias;u=u.pattern||u;for(var p=0;p<r.length;p++){var m=r[p];if(r.length>e.length)break e;if(!(m instanceof a)){u.lastIndex=0;var y=u.exec(m),v=1;if(!y&&h&&p!=r.length-1){var b=r[p+1].matchedStr||r[p+1],k=m+b;if(p<r.length-2&&(k+=r[p+2].matchedStr||r[p+2]),u.lastIndex=0,y=u.exec(k),!y)continue;var w=y.index+(g?y[1].length:0);if(w>=m.length)continue;var _=y.index+y[0].length,P=m.length+b.length;if(v=3,P>=_){if(r[p+1].greedy)continue;v=2,k=k.slice(0,P)}m=k}if(y){g&&(f=y[1].length);var w=y.index+f,y=y[0].slice(f),_=w+y.length,S=m.slice(0,w),O=m.slice(_),j=[p,v];S&&j.push(S);var A=new a(i,c?n.tokenize(y,c):y,d,y,h);j.push(A),O&&j.push(O),Array.prototype.splice.apply(r,j)}}}}}return r},hooks:{all:{},add:function(e,t){var a=n.hooks.all;a[e]=a[e]||[],a[e].push(t)},run:function(e,t){var a=n.hooks.all[e];if(a&&a.length)for(var r,l=0;r=a[l++];)r(t)}}},a=n.Token=function(e,t,n,a,r){this.type=e,this.content=t,this.alias=n,this.matchedStr=a||null,this.greedy=!!r};if(a.stringify=function(e,t,r){if("string"==typeof e)return e;if("Array"===n.util.type(e))return e.map(function(n){return a.stringify(n,t,e)}).join("");var l={type:e.type,content:a.stringify(e.content,t,r),tag:"span",classes:["token",e.type],attributes:{},language:t,parent:r};if("comment"==l.type&&(l.attributes.spellcheck="true"),e.alias){var i="Array"===n.util.type(e.alias)?e.alias:[e.alias];Array.prototype.push.apply(l.classes,i)}n.hooks.run("wrap",l);var o="";for(var s in l.attributes)o+=(o?" ":"")+s+'="'+(l.attributes[s]||"")+'"';return"<"+l.tag+' class="'+l.classes.join(" ")+'" '+o+">"+l.content+"</"+l.tag+">"},!_self.document)return _self.addEventListener?(_self.addEventListener("message",function(e){var t=JSON.parse(e.data),a=t.language,r=t.code,l=t.immediateClose;_self.postMessage(n.highlight(r,n.languages[a],a)),l&&_self.close()},!1),_self.Prism):_self.Prism;var r=document.currentScript||[].slice.call(document.getElementsByTagName("script")).pop();return r&&(n.filename=r.src,document.addEventListener&&!r.hasAttribute("data-manual")&&document.addEventListener("DOMContentLoaded",n.highlightAll)),_self.Prism}();"undefined"!=typeof module&&module.exports&&(module.exports=Prism),"undefined"!=typeof global&&(global.Prism=Prism);
</script>

<script type="text/javascript">
!function(e){var t={variable:[{pattern:/\$?\(\([\w\W]+?\)\)/,inside:{variable:[{pattern:/(^\$\(\([\w\W]+)\)\)/,lookbehind:!0},/^\$\(\(/],number:/\b-?(?:0x[\dA-Fa-f]+|\d*\.?\d+(?:[Ee]-?\d+)?)\b/,operator:/--?|-=|\+\+?|\+=|!=?|~|\*\*?|\*=|\/=?|%=?|<<=?|>>=?|<=?|>=?|==?|&&?|&=|\^=?|\|\|?|\|=|\?|:/,punctuation:/\(\(?|\)\)?|,|;/}},{pattern:/\$\([^)]+\)|`[^`]+`/,inside:{variable:/^\$\(|^`|\)$|`$/}},/\$(?:[a-z0-9_#\?\*!@]+|\{[^}]+\})/i]};e.languages.bash={shebang:{pattern:/^#!\s*\/bin\/bash|^#!\s*\/bin\/sh/,alias:"important"},comment:{pattern:/(^|[^"{\\])#.*/,lookbehind:!0},string:[{pattern:/((?:^|[^<])<<\s*)(?:"|')?(\w+?)(?:"|')?\s*\r?\n(?:[\s\S])*?\r?\n\2/g,lookbehind:!0,inside:t},{pattern:/(["'])(?:\\\\|\\?[^\\])*?\1/g,inside:t}],variable:t.variable,"function":{pattern:/(^|\s|;|\||&)(?:alias|apropos|apt-get|aptitude|aspell|awk|basename|bash|bc|bg|builtin|bzip2|cal|cat|cd|cfdisk|chgrp|chmod|chown|chroot|chkconfig|cksum|clear|cmp|comm|command|cp|cron|crontab|csplit|cut|date|dc|dd|ddrescue|df|diff|diff3|dig|dir|dircolors|dirname|dirs|dmesg|du|egrep|eject|enable|env|ethtool|eval|exec|expand|expect|export|expr|fdformat|fdisk|fg|fgrep|file|find|fmt|fold|format|free|fsck|ftp|fuser|gawk|getopts|git|grep|groupadd|groupdel|groupmod|groups|gzip|hash|head|help|hg|history|hostname|htop|iconv|id|ifconfig|ifdown|ifup|import|install|jobs|join|kill|killall|less|link|ln|locate|logname|logout|look|lpc|lpr|lprint|lprintd|lprintq|lprm|ls|lsof|make|man|mkdir|mkfifo|mkisofs|mknod|more|most|mount|mtools|mtr|mv|mmv|nano|netstat|nice|nl|nohup|notify-send|nslookup|open|op|passwd|paste|pathchk|ping|pkill|popd|pr|printcap|printenv|printf|ps|pushd|pv|pwd|quota|quotacheck|quotactl|ram|rar|rcp|read|readarray|readonly|reboot|rename|renice|remsync|rev|rm|rmdir|rsync|screen|scp|sdiff|sed|seq|service|sftp|shift|shopt|shutdown|sleep|slocate|sort|source|split|ssh|stat|strace|su|sudo|sum|suspend|sync|tail|tar|tee|test|time|timeout|times|touch|top|traceroute|trap|tr|tsort|tty|type|ulimit|umask|umount|unalias|uname|unexpand|uniq|units|unrar|unshar|uptime|useradd|userdel|usermod|users|uuencode|uudecode|v|vdir|vi|vmstat|wait|watch|wc|wget|whereis|which|who|whoami|write|xargs|xdg-open|yes|zip)(?=$|\s|;|\||&)/,lookbehind:!0},keyword:{pattern:/(^|\s|;|\||&)(?:let|:|\.|if|then|else|elif|fi|for|break|continue|while|in|case|function|select|do|done|until|echo|exit|return|set|declare)(?=$|\s|;|\||&)/,lookbehind:!0},"boolean":{pattern:/(^|\s|;|\||&)(?:true|false)(?=$|\s|;|\||&)/,lookbehind:!0},operator:/&&?|\|\|?|==?|!=?|<<<?|>>|<=?|>=?|=~/,punctuation:/\$?\(\(?|\)\)?|\.\.|[{}[\];]/};var a=t.variable[1].inside;a["function"]=e.languages.bash["function"],a.keyword=e.languages.bash.keyword,a.boolean=e.languages.bash.boolean,a.operator=e.languages.bash.operator,a.punctuation=e.languages.bash.punctuation}(Prism);
</script>

<script type="text/javascript">
Prism.languages.yaml={scalar:{pattern:/([\-:]\s*(![^\s]+)?[ \t]*[|>])[ \t]*(?:((?:\r?\n|\r)[ \t]+)[^\r\n]+(?:\3[^\r\n]+)*)/,lookbehind:!0,alias:"string"},comment:/#.*/,key:{pattern:/(\s*[:\-,[{\r\n?][ \t]*(![^\s]+)?[ \t]*)[^\r\n{[\]},#]+?(?=\s*:\s)/,lookbehind:!0,alias:"atrule"},directive:{pattern:/(^[ \t]*)%.+/m,lookbehind:!0,alias:"important"},datetime:{pattern:/([:\-,[{]\s*(![^\s]+)?[ \t]*)(\d{4}-\d\d?-\d\d?([tT]|[ \t]+)\d\d?:\d{2}:\d{2}(\.\d*)?[ \t]*(Z|[-+]\d\d?(:\d{2})?)?|\d{4}-\d{2}-\d{2}|\d\d?:\d{2}(:\d{2}(\.\d*)?)?)(?=[ \t]*($|,|]|}))/m,lookbehind:!0,alias:"number"},"boolean":{pattern:/([:\-,[{]\s*(![^\s]+)?[ \t]*)(true|false)[ \t]*(?=$|,|]|})/im,lookbehind:!0,alias:"important"},"null":{pattern:/([:\-,[{]\s*(![^\s]+)?[ \t]*)(null|~)[ \t]*(?=$|,|]|})/im,lookbehind:!0,alias:"important"},string:{pattern:/([:\-,[{]\s*(![^\s]+)?[ \t]*)("(?:[^"\\]|\\.)*"|'(?:[^'\\]|\\.)*')(?=[ \t]*($|,|]|}))/m,lookbehind:!0},number:{pattern:/([:\-,[{]\s*(![^\s]+)?[ \t]*)[+\-]?(0x[\da-f]+|0o[0-7]+|(\d+\.?\d*|\.?\d+)(e[\+\-]?\d+)?|\.inf|\.nan)[ \t]*(?=$|,|]|})/im,lookbehind:!0},tag:/![^\s]+/,important:/[&*][\w]+/,punctuation:/---|[:[\]{}\-,|>?]|\.\.\./};
</script>

</body>

</html>
